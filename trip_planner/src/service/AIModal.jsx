const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 days for couple with a cheap budget, Give me a Hotels option list with HotelName, HotelAddress, Price, hotel image url, geo coordinates, rating, description and suggest itinerary with placeName, Place details, Place Image Url, Geo Coordinates, Ticket pricing, rating, Time Travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "The image is of a basket filled with freshly baked croissants. The croissants are golden brown and appear to be flaky and buttery. There are several different sizes and shapes of croissants in the basket. The basket is lined with a light brown fabric. \n\nIt is difficult to infer the recipe from just an image. If you are looking for a recipe to bake croissants, please provide more details or keywords about the type of croissant or any other ingredient. \n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, HotelAddress, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place details, Place Image Url, Geo Coordinates, Ticket pricing, rating, Time Travel each of the location for 3 days with each day plan with best time to visit in JSON Format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "## Las Vegas Budget Trip for a Couple (3 Days)\n\nHere's a budget-friendly trip plan for a couple in Las Vegas, focusing on free and low-cost attractions:\n\n**Hotels (Prices may vary based on season):**\n\n**1.  The D Las Vegas**\n* **Address:** 301 Fremont Street, Las Vegas, NV 89101\n* **Price:** From $30/night\n* **Image:** [https://www.casino.com/media/images/casinos/the-d-las-vegas-hotel.jpg](https://www.casino.com/media/images/casinos/the-d-las-vegas-hotel.jpg)\n* **Geo Coordinates:** 36.1693° N, 115.1387° W\n* **Rating:** 3.5 stars\n* **Description:**  Centrally located on Fremont Street, known for its lively atmosphere and affordable rates. \n\n**2.  Golden Nugget Las Vegas**\n* **Address:** 129 E Fremont St, Las Vegas, NV 89101\n* **Price:** From $40/night\n* **Image:** [https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Golden_Nugget_Las_Vegas_Hotel_and_Casino_01.jpg/1280px-Golden_Nugget_Las_Vegas_Hotel_and_Casino_01.jpg](https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Golden_Nugget_Las_Vegas_Hotel_and_Casino_01.jpg/1280px-Golden_Nugget_Las_Vegas_Hotel_and_Casino_01.jpg)\n* **Geo Coordinates:** 36.1685° N, 115.1394° W\n* **Rating:** 4 stars\n* **Description:**  A historic hotel on Fremont Street with an indoor pool, shark tank, and other amenities. \n\n**3.  The Orleans Hotel & Casino**\n* **Address:** 4500 W Tropicana Ave, Las Vegas, NV 89103\n* **Price:** From $35/night\n* **Image:** [https://www.orleanscasino.com/media/images/orleans_hotel_exterior.jpg](https://www.orleanscasino.com/media/images/orleans_hotel_exterior.jpg)\n* **Geo Coordinates:** 36.0987° N, 115.1828° W\n* **Rating:** 3.5 stars\n* **Description:** Offers affordable rates, a variety of restaurants, and a golf course. \n\n**Itinerary:**\n\n**Day 1: Fremont Street Experience & Downtown Delights:**\n\n* **Morning:** (9:00 AM - 12:00 PM) Start your day at **Fremont Street Experience** (36.1689° N, 115.1394° W). Walk the pedestrian mall, check out the light shows, and enjoy the lively atmosphere. \n    * **Place Image:** [https://www.visitlasvegas.com/sites/default/files/styles/gallery_item_mobile_fullscreen/public/images/2023-08/FREMONT-STREET-EXPERIENCE.jpg](https://www.visitlasvegas.com/sites/default/files/styles/gallery_item_mobile_fullscreen/public/images/2023-08/FREMONT-STREET-EXPERIENCE.jpg)\n    * **Place Details:** Free entry, live entertainment, and a vibrant atmosphere. \n* **Afternoon:** (12:00 PM - 4:00 PM) Grab a casual lunch at **The D's  \"9 Five\" restaurant** or find a local cafe on Fremont Street. Explore the vintage **Neon Museum** (36.1583° N, 115.1319° W) for a nostalgic look at Las Vegas' history. \n    * **Neon Museum Ticket:**  $25/person (book online in advance) \n    * **Place Image:** [https://www.neonmuseum.org/sites/default/files/styles/museum_gallery_large/public/2022-01/Neon%20Museum%20-%20Golden%20Nugget%20-%20Sign%20with%20Palm%20Trees%20-%20%2005-09-2013%20-%20David%20Swenson%20-%203072.jpg](https://www.neonmuseum.org/sites/default/files/styles/museum_gallery_large/public/2022-01/Neon%20Museum%20-%20Golden%20Nugget%20Sign%20with%20Palm%20Trees%20-%2005-09-2013%20-%20David%20Swenson%20-%203072.jpg)\n* **Evening:** (4:00 PM - 8:00 PM) See the \"**Viva Vision**\" light show at Fremont Street Experience. Enjoy a dinner at **The D's \"Longbar**\" or any affordable eatery in the area.\n\n**Day 2: Strip Exploration & Free Fun:**\n\n* **Morning:** (9:00 AM - 12:00 PM) Take a free shuttle or ride the **Las Vegas Monorail** (36.1194° N, 115.1771° W) to the Las Vegas Strip. Walk along the Strip, admire the iconic hotels, and snap some photos. \n    * **Place Image:** [https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Las_Vegas_Monorail_station_at_MGM_Grand.jpg/1280px-Las_Vegas_Monorail_station_at_MGM_Grand.jpg](https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Las_Vegas_Monorail_station_at_MGM_Grand.jpg/1280px-Las_Vegas_Monorail_station_at_MGM_Grand.jpg)\n    * **Monorail Ticket:**  $5-10 per trip (depending on distance) \n* **Afternoon:** (12:00 PM - 4:00 PM) Have a cheap lunch at a food court or grab some fast food on the Strip. Visit the **Bellagio Conservatory & Botanical Garden** (36.1115° N, 115.1723° W) for free.  \n    * **Place Image:** [https://cdn.britannica.com/91/144091-138-3EE59892/Bellagio-Hotel-Las-Vegas-Conservatory-Botanical-Garden.jpg](https://cdn.britannica.com/91/144091-138-3EE59892/Bellagio-Hotel-Las-Vegas-Conservatory-Botanical-Garden.jpg)\n* **Evening:** (4:00 PM - 8:00 PM) Catch a free **fountain show** at the Bellagio (every 15 minutes). Have dinner at a casual restaurant on the Strip or explore the food options at the LINQ Promenade.  \n\n**Day 3: Valley of Fire & Sunset Views:**\n\n* **Morning:** (8:00 AM - 12:00 PM) Take a day trip to the stunning **Valley of Fire State Park** (36.3955° N, 114.7810° W), known for its red rock formations.  \n    * **Place Image:** [https://www.nps.gov/media/photo/gallery/asset/0f6ff480-03e3-4629-b605-649b750d36f6](https://www.nps.gov/media/photo/gallery/asset/0f6ff480-03e3-4629-b605-649b750d36f6)\n    * **Park Fee:** $10 per vehicle (or pay $8 per person if you don't have a vehicle)\n* **Afternoon:** (12:00 PM - 3:00 PM) Enjoy a picnic lunch at the park. Explore the park's hiking trails and enjoy the natural beauty. \n* **Evening:** (4:00 PM - 8:00 PM)  Head back to the Strip, find a spot with a view, and watch the sunset over the city. Enjoy a casual dinner at a Strip restaurant or explore Fremont Street for a last bite. \n\n**General Tips:**\n\n* **Transportation:** Utilize the free shuttles offered by hotels and casinos on the Strip. Consider purchasing a Las Vegas Monorail pass for multiple rides.\n* **Food:** Look for food courts and casual restaurants for affordable eats.\n* **Drinks:** Take advantage of happy hours and drink specials.\n* **Shows:** Explore free shows on the Strip, like the Bellagio Fountains, or check for discounted tickets online.\n* **Entertainment:** Consider free activities like walking the Strip, visiting the Bellagio Conservatory, or enjoying the light shows on Fremont Street. \n\n**This itinerary can be adjusted based on your preferences and interests.** Remember to check the websites and hours of operation for the attractions you're interested in visiting. Enjoy your budget-friendly trip to Las Vegas! \n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "i want in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"trip_details\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": 3,\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotels\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$30/night\",\n      \"hotelImageURL\": \"https://www.casino.com/media/images/casinos/the-d-las-vegas-hotel.jpg\",\n      \"geoCoordinates\": \"36.1693° N, 115.1387° W\",\n      \"rating\": 3.5,\n      \"description\": \"Centrally located on Fremont Street, known for its lively atmosphere and affordable rates.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$40/night\",\n      \"hotelImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Golden_Nugget_Las_Vegas_Hotel_and_Casino_01.jpg/1280px-Golden_Nugget_Las_Vegas_Hotel_and_Casino_01.jpg\",\n      \"geoCoordinates\": \"36.1685° N, 115.1394° W\",\n      \"rating\": 4,\n      \"description\": \"A historic hotel on Fremont Street with an indoor pool, shark tank, and other amenities.\"\n    },\n    {\n      \"hotelName\": \"The Orleans Hotel & Casino\",\n      \"hotelAddress\": \"4500 W Tropicana Ave, Las Vegas, NV 89103\",\n      \"price\": \"$35/night\",\n      \"hotelImageURL\": \"https://www.orleanscasino.com/media/images/orleans_hotel_exterior.jpg\",\n      \"geoCoordinates\": \"36.0987° N, 115.1828° W\",\n      \"rating\": 3.5,\n      \"description\": \"Offers affordable rates, a variety of restaurants, and a golf course.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Walk the pedestrian mall, check out the light shows, and enjoy the lively atmosphere.\",\n          \"placeImageURL\": \"https://www.visitlasvegas.com/sites/default/files/styles/gallery_item_mobile_fullscreen/public/images/2023-08/FREMONT-STREET-EXPERIENCE.jpg\",\n          \"geoCoordinates\": \"36.1689° N, 115.1394° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"12:00 PM - 4:00 PM\",\n          \"placeName\": \"The D's \\\"9 Five\\\" restaurant\",\n          \"placeDetails\": \"Casual lunch option\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"12:00 PM - 4:00 PM\",\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"Explore vintage neon signs\",\n          \"placeImageURL\": \"https://www.neonmuseum.org/sites/default/files/styles/museum_gallery_large/public/2022-01/Neon%20Museum%20-%20Golden%20Nugget%20Sign%20with%20Palm%20Trees%20-%2005-09-2013%20-%20David%20Swenson%20-%203072.jpg\",\n          \"geoCoordinates\": \"36.1583° N, 115.1319° W\",\n          \"ticketPricing\": \"$25/person\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"4:00 PM - 8:00 PM\",\n          \"placeName\": \"Viva Vision Light Show\",\n          \"placeDetails\": \"Free light show at Fremont Street Experience\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"4:00 PM - 8:00 PM\",\n          \"placeName\": \"The D's \\\"Longbar\\\"\",\n          \"placeDetails\": \"Dinner option\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": \"N/A\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"Las Vegas Strip\",\n          \"placeDetails\": \"Walk along the Strip, admire the iconic hotels, and snap some photos.\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"Las Vegas Monorail\",\n          \"placeDetails\": \"Transportation option to the Strip\",\n          \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Las_Vegas_Monorail_station_at_MGM_Grand.jpg/1280px-Las_Vegas_Monorail_station_at_MGM_Grand.jpg\",\n          \"geoCoordinates\": \"36.1194° N, 115.1771° W\",\n          \"ticketPricing\": \"$5-10 per trip\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"12:00 PM - 4:00 PM\",\n          \"placeName\": \"Strip Food Courts or Fast Food\",\n          \"placeDetails\": \"Lunch options on the Strip\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"12:00 PM - 4:00 PM\",\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Free botanical garden\",\n          \"placeImageURL\": \"https://cdn.britannica.com/91/144091-138-3EE59892/Bellagio-Hotel-Las-Vegas-Conservatory-Botanical-Garden.jpg\",\n          \"geoCoordinates\": \"36.1115° N, 115.1723° W\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"4:00 PM - 8:00 PM\",\n          \"placeName\": \"Bellagio Fountain Shows\",\n          \"placeDetails\": \"Free fountain shows every 15 minutes\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"4:00 PM - 8:00 PM\",\n          \"placeName\": \"Strip Restaurants or LINQ Promenade Food Options\",\n          \"placeDetails\": \"Dinner options\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": \"N/A\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"time\": \"8:00 AM - 12:00 PM\",\n          \"placeName\": \"Valley of Fire State Park\",\n          \"placeDetails\": \"Explore red rock formations\",\n          \"placeImageURL\": \"https://www.nps.gov/media/photo/gallery/asset/0f6ff480-03e3-4629-b605-649b750d36f6\",\n          \"geoCoordinates\": \"36.3955° N, 114.7810° W\",\n          \"ticketPricing\": \"$10 per vehicle or $8 per person\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"12:00 PM - 3:00 PM\",\n          \"placeName\": \"Valley of Fire State Park\",\n          \"placeDetails\": \"Picnic lunch and hiking\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": \"N/A\"\n        },\n        {\n          \"time\": \"4:00 PM - 8:00 PM\",\n          \"placeName\": \"Las Vegas Strip\",\n          \"placeDetails\": \"Sunset viewing and dinner\",\n          \"placeImageURL\": \"N/A\",\n          \"geoCoordinates\": \"N/A\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": \"N/A\"\n        }\n      ]\n    }\n  ],\n  \"generalTips\": [\n    \"Utilize free shuttles offered by hotels and casinos on the Strip.\",\n    \"Consider purchasing a Las Vegas Monorail pass for multiple rides.\",\n    \"Look for food courts and casual restaurants for affordable eats.\",\n    \"Take advantage of happy hours and drink specials.\",\n    \"Explore free shows on the Strip, like the Bellagio Fountains, or check for discounted tickets online.\",\n    \"Consider free activities like walking the Strip, visiting the Bellagio Conservatory, or enjoying the light shows on Fremont Street.\"\n  ]\n}\n```"},
          ],
        },
      ],
    });
  