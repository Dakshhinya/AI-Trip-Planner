

import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


  export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "generate travel plan for location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, HotelAddress, Price, hotel image url, geo coordinates, rating, descriptions an suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"hotelImageUrl\": \"https://www.theconventions.com/wp-content/uploads/2023/04/The-D-Las-Vegas-Hotel-Casino-Exterior.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1423\",\n      \"rating\": \"4.0 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of downtown Las Vegas, featuring a casino, restaurants, and a rooftop pool.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70-$150 per night\",\n      \"hotelImageUrl\": \"https://www.golden nugget.com/las-vegas/media/images/hotel/golden-nugget-hotel-las-vegas.jpg\",\n      \"geoCoordinates\": \"36.1689, -115.1406\",\n      \"rating\": \"4.5 stars\",\n      \"description\": \"A historic hotel with a vibrant atmosphere, featuring a casino, multiple restaurants, and a shark tank.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://www.circuscircus.com/media/images/hotel/circus-circus-las-vegas.jpg\",\n      \"geoCoordinates\": \"36.1119, -115.1727\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A family-friendly hotel with a circus theme, featuring a casino, amusement park, and a variety of dining options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian-friendly street with a canopy of lights, live music, and street performers.\",\n          \"placeImageUrl\": \"https://www.fremontstreetexperience.com/sites/default/files/styles/1200x600/public/2018-07/Fremont-Street-Experience-Las-Vegas-Aerial-View-by-Jason-M-Hardin.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1423\",\n          \"ticketPricing\": \"Free\",\n          \"time\": \"Evening (6:00 PM - 10:00 PM)\"\n        },\n        {\n          \"placeName\": \"Heart Attack Grill\",\n          \"placeDetails\": \"A unique restaurant known for its extreme burgers and the “calorie-laden” theme.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Heart_Attack_Grill_%28Las_Vegas%29.jpg/1200px-Heart_Attack_Grill_%28Las_Vegas%29.jpg\",\n          \"geoCoordinates\": \"36.1702, -115.1430\",\n          \"ticketPricing\": \"A la carte\",\n          \"time\": \"Dinner (8:00 PM - 11:00 PM)\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"An iconic dam and engineering marvel located just a short drive from Las Vegas.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Hoover_Dam_2007_07.jpg/1200px-Hoover_Dam_2007_07.jpg\",\n          \"geoCoordinates\": \"36.0014, -114.9837\",\n          \"ticketPricing\": \"$30 per person\",\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\"\n        },\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic landscape with stunning rock formations, hiking trails, and viewpoints.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/Red_Rock_Canyon_National_Conservation_Area_1.jpg/1200px-Red_Rock_Canyon_National_Conservation_Area_1.jpg\",\n          \"geoCoordinates\": \"36.1280, -115.2502\",\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"time\": \"Afternoon (2:00 PM - 5:00 PM)\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A beautiful indoor garden with elaborate floral displays and seasonal themes.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Bellagio_Conservatory_and_Botanical_Garden_-_2010_-_10.jpg/1200px-Bellagio_Conservatory_and_Botanical_Garden_-_2010_-_10.jpg\",\n          \"geoCoordinates\": \"36.1119, -115.1725\",\n          \"ticketPricing\": \"Free\",\n          \"time\": \"Morning (10:00 AM - 12:00 PM)\"\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping and dining promenade with a High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/The_LINQ_Promenade%2C_Las_Vegas%2C_Nevada.jpg/1200px-The_LINQ_Promenade%2C_Las_Vegas%2C_Nevada.jpg\",\n          \"geoCoordinates\": \"36.1137, -115.1705\",\n          \"ticketPricing\": \"Varies for High Roller\",\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\n* **Hotel Options:** This section provides a list of budget-friendly hotels in Las Vegas with details like name, address, price range, image URL, coordinates, rating, and a brief description.\n* **Itinerary:** This section outlines a 3-day itinerary for a couple traveling on a budget, with each day split into multiple activities:\n    * **Day 1:** Focuses on downtown Las Vegas with the Fremont Street Experience and a unique dining experience at the Heart Attack Grill.\n    * **Day 2:** Offers a day trip to Hoover Dam, a historic engineering marvel, followed by exploring the scenic Red Rock Canyon National Conservation Area.\n    * **Day 3:** Includes a visit to the beautiful Bellagio Conservatory & Botanical Garden followed by strolling the LINQ Promenade and enjoying the High Roller (optional).\n\n**Note:**\n\n* This itinerary is just a suggestion and can be customized based on your interests and preferences.\n* You can find more details and updated information on prices, hours, and availability on the official websites of the attractions and hotels.\n* Consider utilizing free activities and attractions offered by some hotels and casinos to maximize your budget.\n* Remember to book your hotel and any necessary tickets in advance, especially during peak season. \n"},
        ],
      },
      {
        role: "user",
        parts: [
          {text: "generate travel plan for location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, HotelAddress, Price, hotel image url, geo coordinates, rating, descriptions an suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"hotelImageUrl\": \"https://www.theconventions.com/wp-content/uploads/2023/04/The-D-Las-Vegas-Hotel-Casino-Exterior.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1423\",\n      \"rating\": \"4.0 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of downtown Las Vegas, featuring a casino, restaurants, and a rooftop pool.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70-$150 per night\",\n      \"hotelImageUrl\": \"https://www.golden nugget.com/las-vegas/media/images/hotel/golden-nugget-hotel-las-vegas.jpg\",\n      \"geoCoordinates\": \"36.1689, -115.1406\",\n      \"rating\": \"4.5 stars\",\n      \"description\": \"A historic hotel with a vibrant atmosphere, featuring a casino, multiple restaurants, and a shark tank.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://www.circuscircus.com/media/images/hotel/circus-circus-las-vegas.jpg\",\n      \"geoCoordinates\": \"36.1119, -115.1727\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A family-friendly hotel with a circus theme, featuring a casino, amusement park, and a variety of dining options.\"\n    },\n    {\n      \"hotelName\": \"Main Street Station Casino, Brewery & Hotel\",\n      \"hotelAddress\": \"200 N. Main Street, Las Vegas, NV 89101\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://www.mainstreetstation.com/media/images/hotel/main-street-station-casino-brewery-hotel.jpg\",\n      \"geoCoordinates\": \"36.1704, -115.1373\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A themed hotel with a historic train station ambiance, offering a casino, brewery, and affordable rooms.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian-friendly street with a canopy of lights, live music, and street performers.\",\n          \"placeImageUrl\": \"https://www.fremontstreetexperience.com/sites/default/files/styles/1200x600/public/2018-07/Fremont-Street-Experience-Las-Vegas-Aerial-View-by-Jason-M-Hardin.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1423\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"4.5 stars\",\n          \"time\": \"Evening (6:00 PM - 10:00 PM)\"\n        },\n        {\n          \"placeName\": \"The D Casino & Hotel\",\n          \"placeDetails\": \"A lively casino with free live entertainment, including concerts and DJs.\",\n          \"placeImageUrl\": \"https://www.theconventions.com/wp-content/uploads/2023/04/The-D-Las-Vegas-Hotel-Casino-Exterior.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1423\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"4.0 stars\",\n          \"time\": \"Late Night (11:00 PM - 2:00 AM)\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"An iconic dam and engineering marvel located just a short drive from Las Vegas.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Hoover_Dam_2007_07.jpg/1200px-Hoover_Dam_2007_07.jpg\",\n          \"geoCoordinates\": \"36.0014, -114.9837\",\n          \"ticketPricing\": \"$30 per person\",\n          \"rating\": \"4.5 stars\",\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\"\n        },\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic landscape with stunning rock formations, hiking trails, and viewpoints.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/Red_Rock_Canyon_National_Conservation_Area_1.jpg/1200px-Red_Rock_Canyon_National_Conservation_Area_1.jpg\",\n          \"geoCoordinates\": \"36.1280, -115.2502\",\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"rating\": \"4.5 stars\",\n          \"time\": \"Afternoon (2:00 PM - 5:00 PM)\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A beautiful indoor garden with elaborate floral displays and seasonal themes.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Bellagio_Conservatory_and_Botanical_Garden_-_2010_-_10.jpg/1200px-Bellagio_Conservatory_and_Botanical_Garden_-_2010_-_10.jpg\",\n          \"geoCoordinates\": \"36.1119, -115.1725\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"4.5 stars\",\n          \"time\": \"Morning (10:00 AM - 12:00 PM)\"\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping and dining promenade with the High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/The_LINQ_Promenade%2C_Las_Vegas%2C_Nevada.jpg/1200px-The_LINQ_Promenade%2C_Las_Vegas%2C_Nevada.jpg\",\n          \"geoCoordinates\": \"36.1137, -115.1705\",\n          \"ticketPricing\": \"Varies for High Roller\",\n          \"rating\": \"4.0 stars\",\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Key Changes and Additions:**\n\n* **Hotel Options:** Added \"Main Street Station Casino, Brewery & Hotel\" to the list, providing more variety in budget-friendly choices. \n* **Day 1:** Added \"The D Casino & Hotel\" for free late-night entertainment, incorporating a budget-friendly way to experience the Las Vegas nightlife.\n* **Place Details and Images:** Added more details about each place, including ratings and image URLs for better visualization and planning.\n* **Time:** Provided specific time ranges for each activity within each day, giving more context to the itinerary. \n\n**Additional Tips for a Cheap Budget:**\n\n* **Eat at buffets:** Many hotels offer affordable all-you-can-eat buffets, especially during happy hour or off-peak times.\n* **Take advantage of free activities:** Many casinos and hotels offer free shows, concerts, and events throughout the day and night.\n* **Explore free attractions:** Check out the free attractions like the Bellagio Conservatory & Botanical Garden, the fountain shows at the Bellagio, and the LINQ Promenade. \n* **Pack snacks and drinks:** Avoid spending too much money on food and drinks by packing your own snacks and drinks.\n* **Consider a free walking tour:** Many free walking tours are available in Las Vegas, providing a great way to learn about the city's history and culture.\n\n**Remember:** Always check for current prices and availability, especially for attractions that require tickets. Adjust the itinerary based on your interests and preferences for a fun and budget-friendly Las Vegas experience. \n"},
        ],
      },
    ],
  });


